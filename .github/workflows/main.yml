name: CI/CD Workflow
 
on:
  push:
    branches:
      - main
 
jobs:
  build:
    runs-on: ubuntu-latest
 
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
 
      - name: Build
        run: |
          # Your build commands here
 
  deploy:
    needs: build
    runs-on: ubuntu-latest
 
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
 
      - name: Deploy
        run: |
          # Your deployment commands here
 
  approval:
    needs: deploy
    runs-on: ubuntu-latest
    if: github.event_name == 'push' && github.event.ref == 'refs/heads/main'
 
    steps:
      - name: Request Approval
        uses: actions/github-script@v6
        with:
          github-token: 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
          script: |
const response = await octokit.rest.pulls.createReviewRequest({
              owner: context.repo.owners,
              repo: context.repo.repo,
              pull_number: context.payload.pull_request.number,
              reviewers: pradeep-palagiri
            });
 
            console.log(response);
